# Environment variables for Docker Compose
# Copy this to .env and fill in your values

# JWT Secret (generate with: openssl rand -base64 32)
JWT_SECRET=your-super-secret-jwt-key
JWT_EXPIRY=1d
ADMIN_JWT_EXPIRY=6h
# Optional: enforce issuer/audience on JWTs (recommended for high security)
JWT_ISSUER=sarkariexams-api
JWT_AUDIENCE=sarkariexams-admin

# CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,https://sarkariexams.me,https://www.sarkariexams.me

# Rate limiting (in milliseconds and max requests)
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=200
AUTH_RATE_LIMIT_MAX=20
ADMIN_RATE_LIMIT_MAX=200

# Admin security (optional hardening)
# Comma-separated IPs allowed to access admin endpoints.
ADMIN_IP_ALLOWLIST=
# Comma-separated admin emails allowed to login as admin.
ADMIN_EMAIL_ALLOWLIST=
# Comma-separated admin email domains allowed to login as admin (e.g. company.com).
ADMIN_DOMAIN_ALLOWLIST=
# Require HTTPS for admin endpoints in production.
ADMIN_ENFORCE_HTTPS=true

# SendGrid (for emails)
SENDGRID_API_KEY=your-sendgrid-api-key

# Redis Cache (Upstash - for performance)
# Get free Redis at: https://upstash.com
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# Azure Cosmos DB (MongoDB API) - PRIMARY DATABASE
# Get from Azure Portal: Cosmos DB -> Connection String
COSMOS_CONNECTION_STRING=mongodb://accountname:password@accountname.mongo.cosmos.azure.com:10255/?ssl=true&replicaSet=globaldb&retrywrites=false
COSMOS_DATABASE_NAME=sarkari_db

# Error Tracking (Sentry.io)
SENTRY_DSN=https://your-key@your-org.ingest.sentry.io/project-id
# Frontend Sentry
VITE_SENTRY_DSN=
VITE_SENTRY_RELEASE=
VITE_APP_VERSION=1.0.0

# Infrastructure Monitoring (Datadog)
# Get API key from: https://app.datadoghq.com/organization-settings/api-keys
DD_API_KEY=your-datadog-api-key
# Site options: datadoghq.com (US), datadoghq.eu (EU), us5.datadoghq.com (US5)
DD_SITE=datadoghq.com

# Metrics endpoint protection (optional)
METRICS_TOKEN=

# Web Push (VAPID)
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
FRONTEND_URL=https://sarkariexams.me
